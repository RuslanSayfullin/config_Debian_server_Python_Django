разработка Sayfullin RR
========================================================================================================================

// Руководство //
UFW Essentials: общие правила и команды брандмауэра

Введение
UFW (простой брандмауэр) — это инструмент настройки брандмауэра, работающий поверх, включенный по умолчанию в 
дистрибутивы Debian. Он предоставляет оптимизированный интерфейс для настройки общих вариантов использования брандмауэра
через командную строку.iptables

Это руководство в стиле шпаргалки содержит краткий справочник по распространенным вариантам использования и командам UFW,
включая примеры того, как разрешать и блокировать службы по порту, сетевому интерфейсу и исходному IP-адресу.

Вы можете проверить текущий набор правил UFW с помощью 
    $ sudo ufw status
или
    $ sudo ufw status verbose

Проверить статус UFW
    $ sudo ufw status
Вывод покажет, активен ли ваш брандмауэр или нет.


Включить UFW
========================================================================================================================

Если вы получили 
    Status: inactiv
eсообщение при запуске ufw status, это означает, что брандмауэр еще не включен в системе. 
Вам нужно будет запустить команду, чтобы включить его.
* По умолчанию при включении UFW блокирует внешний доступ ко всем портам на сервере. На практике это означает, что если
вы подключены к серверу через SSH и активируете его ufw перед тем, как разрешить доступ через порт SSH, вы будете 
отключены. Убедитесь, что вы следуете разделу о том, как включить доступ по SSH в этом руководстве, прежде чем включать 
брандмауэр, если это ваш случай.

Чтобы включить UFW в вашей системе, запустите:
    $ sudo ufw enable

Чтобы увидеть, что в данный момент заблокировано или разрешено, вы можете использовать verbose параметр при запуске
ufw status следующим образом:
    $ sudo ufw status


Отключить UFW 
========================================================================================================================

Если по какой-то причине вам нужно отключить UFW, вы можете сделать это с помощью следующей команды:
    $ sudo ufw disable
Имейте в виду, что эта команда полностью отключит службу брандмауэра в вашей системе.


Заблокировать IP-адрес
========================================================================================================================

Чтобы заблокировать все сетевые подключения, исходящие с определенного IP-адреса, выполните следующую команду, 
заменив выделенный IP-адрес IP-адресом, который вы хотите заблокировать:
    $ sudo ufw deny from 203.0.113.100
В этом примере from 203.0.113.100 указывает исходный IP-адрес «203.0.113.100».
Если вы запустите sudo ufw status сейчас, вы увидите, что указанный IP-адрес указан как запрещенный.
Все соединения, входящие и исходящие, блокируются для указанного IP-адреса.

Заблокировать подсеть
Если вам нужно заблокировать всю подсеть, вы можете использовать адрес подсети в качестве from параметра ufw deny команды.
Это заблокирует все IP-адреса в подсети примера 203.0.113.0/24:
    $ sudo ufw deny from 203.0.113.0/24


Блокировать входящие подключения к сетевому интерфейсу
========================================================================================================================
Чтобы заблокировать входящие подключения с определенного IP-адреса к определенному сетевому интерфейсу, выполните 
следующую команду, заменив выделенный IP-адрес IP-адресом, который вы хотите заблокировать:
    $ sudo ufw deny in on eth0 from 203.0.113.100
Параметр in указывает ufw применять правило только для входящих подключений, а on eth0 параметр указывает, что правило 
применяется только для eth0 интерфейса. Это может быть полезно, если у вас есть система с несколькими сетевыми 
интерфейсами (включая виртуальные) и вам нужно заблокировать внешний доступ к некоторым из этих интерфейсов, но не ко всем.


Разрешить IP-адрес
========================================================================================================================

Чтобы разрешить все сетевые подключения, исходящие с определенного IP-адреса, выполните следующую команду, заменив 
выделенный IP-адрес IP-адресом, которому вы хотите разрешить доступ:
    $ sudo ufw allow from 203.0.113.101
Если вы запустите sudo ufw statusсейчас, вы увидите вывод, похожий на этот, показывающий слово ALLOWрядом с IP-адресом,
который вы только что добавили.
Вы также можете разрешить подключения из всей подсети, указав соответствующую маску подсети для хоста, 
например 203.0.113.0/24.


Разрешить входящие подключения к сетевому интерфейсу
========================================================================================================================


Чтобы разрешить входящие подключения с определенного IP-адреса к определенному сетевому интерфейсу, выполните следующую 
команду, заменив выделенный IP-адрес IP-адресом, который вы хотите разрешить:
    $ sudo ufw allow in on eth0 from 203.0.113.102
Параметр in указывает ufw применять правило только для входящих подключений, а on eth0 параметр указывает, что правило
применяется только для eth0 интерфейса.

Если вы запустите sudo ufw status сейчас, вы увидите вывод.
